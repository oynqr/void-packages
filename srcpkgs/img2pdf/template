# Template file for 'img2pdf'
pkgname=img2pdf
version=0.5.1
revision=1
build_style=python3-module
hostmakedepends="python3-pikepdf python3-setuptools"
depends="colord python3-pdfrw python3-pikepdf python3-Pillow python3-tkinter"
checkdepends="$depends exiftool ghostscript ImageMagick mupdf-tools netpbm
 poppler python3-numpy python3-pytest python3-pytest-xdist python3-scipy"
short_desc="Lossless conversion of raster images to PDF"
maintainer="Philipp David <pd@3b.pm>"
license="GPL-3.0-or-later"
homepage="https://gitlab.mister-muffin.de/josch/img2pdf"
distfiles="${PYPI_SITE}/i/img2pdf/img2pdf-${version}.tar.gz"
checksum=73847e47242f4b5bd113c70049e03e03212936c2727cd2a8bf564229a67d0b95

if [ "$XBPS_TARGET_WORDSIZE" != "64" ]; then
	# bit depth checks fail on non-64bit arches
	make_check=no
fi
